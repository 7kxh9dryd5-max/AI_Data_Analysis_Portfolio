# 🧪 AIを活用した科学研究データ解析パイプライン (Heracles NEO)

<p align="left">
  <img src="https://img.shields.io/badge/Python-3.12-blue.svg?style=for-the-badge&logo=python" alt="Python 3.12">
  <img src="https://img.shields.io/badge/scikit--learn-1.5-orange.svg?style=for-the-badge&logo=scikit-learn" alt="Scikit-learn">
  <img src="https://img.shields.io/badge/SHAP-0.45-brightgreen.svg?style=for-the-badge" alt="SHAP">
  <img src="https://img.shields.io/badge/Plotly-5.22-blueviolet.svg?style=for-the-badge&logo=plotly" alt="Plotly">
  <img src="https://img.shields.io/badge/Jupyter-Notebook-F37626.svg?style=for-the-badge&logo=jupyter" alt="Jupyter Notebook">
</p>

## 1. プロジェクト概要
大学院の研究（「おいしさDX」プロジェクト）において、複雑な科学的データ（鶏卵のVOC）の解析プロセスを自動化する「AI解析パイプライン」である。データの前処理、多変量解析、AI（機械学習）による考察、HTMLレポートの自動生成までをワンストップで行う。

## 2. P：課題・背景 (Problem)
本プロジェクトの背景には、2つの大きな課題があった。

1.  **根本的な課題の発見:**
    当時、大学内で香気成分分析機器をリアルタイムで使っている人間が教員含めておらず、簡易な引き継ぎ資料しかない状態であった。私は「**引き継がれた解析方法が本当に正しいのか？」と現状に疑問**を持ち、独自に機器について調査した結果、機械の能力を最大限引き出せていないという課題を発見した。
2.  **「あるべき姿」の定義:**
    私は、単に「機械を100%使う」ことをゴールに設定しなかった。「**機械（分析）に+α（AI解析）を加え、研究成果を120%にする**」ことこそが「あるべき姿」だと定義した。
3.  **プロセスの属人化:**
    従来の手作業による解析は、膨大な時間がかかる上、解析手法が属人化し「再現性の担保」が困難であるという問題も抱えていた。

## 3. A：システム構成・設計 (Action)
上記課題を解決するため、「**信頼性・透明性・再現性**」を担保するAI解析パイプラインのアーキテクチャを設計した。

### システム構成図
![AI解析_ポートフォリオ_構造図](AI解析_ポートフォリオ_構造図.jpg)

### A-1. 機密データ処理の設計（セキュリティ戦略）
本パイプラインは、セキュリティと専門性の両立を重視した「2段階アーキテクチャ」で設計されている。
* **① 非公開フェーズ（前処理の心臓部）:**
    機密データ（研究の生データ）をローカル環境で処理し、『中間ファイル（総合重要ピークリスト.xlsx）』を生成する。機密情報に触れるコードは意図的にGitHubから切り離し、安全なプロセスだけを構成図で示している。
* **② 公開・デモフェーズ（本解析）:**
    GitHubで公開している `Portfolio_AI解析.ipynb` は、機密情報を含まない安全なデータ（ワインデータ）を使い、解析の「ロジック」と「考察の自動化」という技術力のみを証明するデモ版である。

### A-2. 堅牢なデータ準備フェーズ（設計思想）
本パイプラインは、**3つの異なる入力ソース**を統合する高度な設計を採用している。
1.  **データ読み込み・クレンジング (セル2):** 汚れた生データ（`.txt`）から、独自の関数（`transform_column_name`）により、カラム名の自動整形とブランクサンプルの除去を実行する。
2.  **多段的な外れ値処理 (セル7-9):** **PCA基準**（サンプル単位）、**Z-score基準**（ピーク単位）、**最終IQR基準**という3段階のクリーニングを適用。欠損値は、安易なゼロ埋めではなく、**グループごとの中央値補完**という統計的に堅牢な手法で処理する。
3.  **化学情報のマージ (セル5):** 外部の専門知識（`ピーク一覧/*.txt`）を自動で読み込み、データに「化学物質名」「官能的記述子」を紐付け、AIの解釈の根拠とする。

### A-3. 実装された分析アプローチ
1.  **MVA（多変量解析）による「全体像」の可視化:**
    データ構造を「多角的」に理解するため、**PCA, PLS-DA, LDA, UMAP, t-SNE, 階層的クラスタリング**という6つの異なる「地図」を全自動で描画する。
2.  **「ハイブリッド採点エンジン」による重要ピークの特定 [セル14]:**
    全ピークを「**統計学（ANOVA, q値）**」と「**AI（Random Forest Importance）**」の2つの視点から採点し、「総合ランク」を算出する。
3.  **補足分析による「多角的な検証」:**
    **相関ヒートマップ**（ピーク間の連動性調査）、**ボルケーノプロット**（2群間での信頼性・変動幅の検証）、**バイオリンプロット**（視覚的な最終検証）など、多角的な検証アプローチを実装した。

## 4. R：成果 (Result)
本パイプラインの構築により、**数日かかっていた解析作業が数分で完了**し、研究の試行錯誤（PDCA）のサイクルを劇的に高速化できた。

最終成果物として、AIによる自動考察を含む「`⭐︎ Heracles NEO 総合解析レポート.html`」という単一のHTMLファイルが自動生成される。これにより、**現状を疑い、課題を発見し、AIで「+α」の価値を設計する**という、専門家のためのDXを実現した。

<img width="891" height="752" alt="HTML Report Screenshot" src="https://github.com/user-attachments/assets/a18c988e-8224-47d6-8222-a167270e3aaf" />

## 5. 実行手順（技術デモ）
このリポジトリは、実際の研究データ（非公開）を、「**公開練習用データセット（ワインデータ）**」に差し替えた「技術デモ」版である。

1.  `Portfolio_AI解析.ipynb` をVS Codeなどで開く。
2.  **セル0（自動セットアップ）** を実行する。
    ```bash
    # このセルが実行され、解析に必要な全ライブラリが自動でインストールされる
    %pip install -q pandas numpy matplotlib ... Jinja2
    ```
3.  すべてのセルを順に実行する。
4.  セル2が「ワインデータ」を自動で読み込み、セル28が（ワインデータに基づいた）「⭐︎ Heracles NEO 総合解析レポート.html」をタイムスタンプ付きフォルダに自動生成する。

## 6. 使用技術
* **Python**
* **Jupyter Notebook**
* **データ処理:** Pandas, NumPy
* **機械学習(AI):** scikit-learn (PCA, PLS-DA, LDA, Random Forest)
* **AIの解釈(XAI):** SHAP
* **可視化:** Plotly, Matplotlib, Seaborn, UMAP, t-SNE
* **レポート生成:** Jinja2
